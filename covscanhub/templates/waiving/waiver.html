{% extends "waiving/result.html" %}
{% load i18n %}

{% block waiver %}

<h3>{{ group.name }}</h3>

{% for defect, events in defects.items %}
<b>Defect {{ defect.checker }}: {{ checker.annotation }}</b>
<ul>
{% for event in events %}
    <li>
        {% if event.id == defect.key_event.id %}
        <b>{{ event.file_name }}:{{ event.line }} {{ event.event }} -- {{ event.message }}</b>
        {% else %}
        {{ event.file_name }}:{{ event.line }} {{ event.event }} -- {{ event.message }}
        {% endif %}
    </li>
{% endfor %}
</ul>
{% endfor %}

{% for waiver in waivers %}
<div style="border: 1px solid #888;">
User: {{ waiver.user }} </br>
Date: {{ waiver.date|date:"Y-m-d H:i:s" }} </br>
Status: {{ waiver.get_state_display }} </br>
Message: {{ waiver.message }} </br>
</div>
{% endfor %}

<form action="{% url waiving/waiver result.id group.id %}" method="post">{% csrf_token %}
{{ form.as_p }}
<input type="submit" value="Submit" />
</form>

{% endblock %}
    